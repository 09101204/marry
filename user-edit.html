<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>婚礼纪</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" type="text/css" href="css/base.css">
    <link rel="stylesheet" type="text/css" href="css/global.css">
    <link rel="stylesheet" type="text/css" href="css/common.css">
    <link rel="stylesheet" type="text/css" href="css/module.css">
    <link rel="stylesheet" type="text/css" href="css/status.css">
    <script src="js/sea-modules/seajs/1.3.1/sea.js" type="text/javascript"></script>
    <script src="http://libs.baidu.com/jquery/1.9.0/jquery.min.js" type="text/javascript"></script>
    <!--[if lt IE 9]>
    <script type="text/javascript" src="js/dist/html5shiv.js"></script>
    <![endif]-->
    <script type="text/javascript" src="js/application.js"></script>
    <script type="text/javascript">
        seajs.config({
            alias: {
                "$": "gallery/jquery.js"
            }
        });
    </script>
</head>
<body>
<div id="wrapper">
<nav id="topBar" class="ui-top-nav">

</nav>
<script type="text/javascript">
    seajs.use(['marry/application', '$'], function(App, $) {
        var template=new App.template();
        template.loadHeader("#indexUrl");
    });
</script>
<section class="user-edit-wrap ui-shadow">
    <div class="user-edit-inner">
        <h1>资料修改</h1>
    </div>
    <div class="form-panel" id="container">
        <form class="ui-form" name="" method="post" action="users.json" id="infoEdit">
            <input type="hidden" name="token" value="" id="token"/>
            <input type="hidden" name="secret" value="" id="secret"/>
            <input type="hidden" name="montage[user_id]" id="userId">
            <fieldset>
                <legend>表单标题</legend>
                <div class="ui-form-item ui-form-item-error">
                    <label for="username" class="ui-lable">昵称:</label>
                    <input class="ui-input" id="username" name="username" type="text">
                    <div class="ui-form-explain">昵称不能为空</div>
                </div>
                <div class="ui-form-item ui-form-item-error">
                    <label for="" class="ui-lable">性别:</label>
                    <input class="ui-radio" type="radio" name="sex"/>
                    <span class="ui-radio-txt"> 男</span>
                    <input class="ui-radio" type="radio" name="sex"/>
                    <span class="ui-radio-txt"> 女</span>
                </div>
                <div class="ui-form-item ui-form-item-error">
                    <label for=""class="ui-lable">出生年月:</label>
                    <input class="ui-input" name="birthday" id="birthday" type="text"/> <span class="ui-form-other"><a href="#">格式为xxxx-xx-xx</a></span>
                </div>
                <div class="ui-form-item">
                    <label for="" class="ui-lable">自我介绍:</label>
                    <textarea name="info" onclick="this.value=''" class="ui-textarea">这家伙很懒，什么都没留下</textarea>
                </div>
                <div class="ui-form-item">
                    <div class="ui-btn middle ui-btn-green">
                        <input type="submit" class="ui-btn-text" value="保存"/>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>
    <div class="img-panel">
        <img src="assets/test/beauty.jpg" alt=""/>
        <p>更新一张很酷的照片</p>
    </div>
</section>
<footer class="ui-footer ui-shadow-top" id="foot"></footer>
<script type="text/javascript">
    seajs.use(['marry/application', '$'], function(App, $) {
        var template=new App.template();
        template.loadFoot();
    });
</script>
</div>
<script type="text/javascript">
    $("#token").val(localStorage["token"]);
    $("#secret").val(localStorage["secret"]);
    $("#userId").val(JSON.parse(localStorage["user"]).id);
    seajs.use(['arale/validator/0.9.2/validator', '$'], function(Validator, $) {
        $(function() {
            var validator = new Validator({
                element: 'form'
            });

            validator.addItem({
                element: '[name=username]',
                required: true,
                rule: 'minlength{min:1} maxlength{max:20}'
            }).addItem({
                        element: '[name=birthday]',
                        required: true,
                        rule: 'minlength{min:5}'
                    })
        });
    });
    seajs.use('arale/calendar/0.8.4/calendar', function(Calendar) {
        new Calendar({trigger: '#birthday'});
    });
</script>
</body>
</html>
